# Дебагінг в програмуванні

У програмуванні налагодження (або debugging) — це процес виявлення та виправлення помилок або аномалій у програмному забезпеченні. Це критичний процес у життєвому циклі розробки застосунків, що дозволяє виявляти та виправляти помилки.

## Source Maps

Source Map — це файл, який браузер використовує для відображення транспільованого або мініфікованого коду назад у вихідний код.

Це дозволяє вам бачити вихідний код в інструментах розробника браузера, навіть якщо ви працюєте з компільованою версією коду. У компаніях часто використовують такі системи, як Sentry, які відстежують помилки користувачів. Однак код на продакшені зазвичай мініфікований, і source maps дозволяють побачити нормальний, читабельний код.

### Налаштування Source Maps для TypeScript

Для генерації source maps у TypeScript потрібно додати в `tsconfig.json` опцію `"sourceMap": true` в секції `"compilerOptions"`. Це призведе до генерації `.map`-файлів разом з компільованими JavaScript-файлами. Ці файли містять інформацію, яка зв'язує ваш мініфікований або транспільований код із вихідними файлами.

#### Приклад `tsconfig.json`

```json
{
  "compilerOptions": {
    "rootDir": "./src",
    "outDir": "./dist",
    "allowJs": false,
    "allowSyntheticDefaultImports": true,
    "emitDecoratorMetadata": true,
    "esModuleInterop": true,
    "experimentalDecorators": true,
    "lib": ["dom", "ES2021"],
    "module": "es2020",
    "moduleResolution": "node",
    "preserveConstEnums": true,
    "skipLibCheck": true,
    "strictNullChecks": true,
    "target": "es2019",
    "sourceMap": true
  },
  "include": ["**/*.ts"]
}
```


## Перевірка файлів у каталозі dist
Після налаштування ви побачите, що кожному файлу .js відповідає файл .map, який містить карту для перетворення коду назад у вихідний вигляд.

### Приклад вмісту .map файлу

```json
{
  "version": 3,
  "file": "concatenation.js",
  "sourceRoot": "",
  "sources": ["../src/concatenation.ts"],
  "names": [],
  "mappings": "AAAA,SAAS,aAAa,CAAC,SAAiB,EAAE,UAAkB;IAC1D,OAAO,CAAC,GAAG,CAAC,GAAG,SAAS,IAAI,UAAU,GAAG,CAAC,CAAC;AAC7C,CAAC;AAED,OAAO,EAAE,aAAa,EAAE,CAAC"
}
```

## Налагодження в браузері
Коли ви відкриваєте вкладку "Sources" в інспекторі браузера, ви бачите директорії та файли, які відповідають вашому вихідному коду TypeScript. Ви можете поставити точку зупинки (breakpoint) у будь-якому місці вашого TypeScript-коду, і браузер зупинить виконання після досягнення цієї точки.

## Практичне застосування
При натисканні кнопки 'Concat!' код зупинить своє виконання, і ми зможемо дослідити, що зберігається в змінних і як працює код. Принадність полягає в тому, що ми працюємо з кодом на TypeScript, ніби це він виконується, а не JavaScript.